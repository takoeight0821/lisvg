<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="580" height="950" viewBox="0 0 580 950">
  <style>
    .node {
      fill: #ffffff;
      stroke: #000000;
      stroke-width: 1;
      fill: #f5f5f5;
    }
    .edge {
      fill: none;
      stroke: #000000;
      stroke-width: 1;
      stroke: #666666;
      stroke-width: 2;
    }
    .node-label {
      font-family: Arial, sans-serif;
      font-size: 12px;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #000000;
      pointer-events: none;
    }
    .edge-label {
      font-family: Arial, sans-serif;
      font-size: 10px;
      text-anchor: middle;
      dominant-baseline: middle;
      fill: #000000;
      pointer-events: none;
    }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#000000"/>
    </marker>
  </defs>
<g transform="translate(20, 930) scale(1, -1)">
  <path d="M 270.00 820.00 L 270.00 740.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="270.00" y="-780.00" class="edge-label" transform="scale(1, -1)">HTTPS</text>
  <path d="M 270.00 690.00 L 270.00 610.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="270.00" y="-650.00" class="edge-label" transform="scale(1, -1)">filtered</text>
  <path d="M 270.00 560.00 L 90.00 480.00" class="edge" marker-end="url(#arrowhead)"/>
  <path d="M 270.00 560.00 L 270.00 480.00" class="edge" marker-end="url(#arrowhead)"/>
  <path d="M 270.00 560.00 L 450.00 480.00" class="edge" marker-end="url(#arrowhead)"/>
  <path d="M 90.00 430.00 L 180.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="135.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 90.00 430.00 L 360.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="225.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 270.00 430.00 L 180.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="225.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 270.00 430.00 L 360.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="315.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 450.00 430.00 L 180.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="315.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 450.00 430.00 L 360.00 350.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="405.00" y="-390.00" class="edge-label" transform="scale(1, -1)">API</text>
  <path d="M 180.00 300.00 L 90.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="135.00" y="-260.00" class="edge-label" transform="scale(1, -1)">write</text>
  <path d="M 360.00 300.00 L 90.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="225.00" y="-260.00" class="edge-label" transform="scale(1, -1)">write</text>
  <path d="M 180.00 300.00 L 180.00 90.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="180.00" y="-195.00" class="edge-label" transform="scale(1, -1)">read</text>
  <path d="M 360.00 300.00 L 360.00 90.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="360.00" y="-195.00" class="edge-label" transform="scale(1, -1)">read</text>
  <path d="M 90.00 170.00 L 180.00 90.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="135.00" y="-130.00" class="edge-label" transform="scale(1, -1)">sync</text>
  <path d="M 90.00 170.00 L 360.00 90.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="225.00" y="-130.00" class="edge-label" transform="scale(1, -1)">sync</text>
  <path d="M 180.00 300.00 L 270.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="225.00" y="-260.00" class="edge-label" transform="scale(1, -1)">cache</text>
  <path d="M 360.00 300.00 L 270.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="315.00" y="-260.00" class="edge-label" transform="scale(1, -1)">cache</text>
  <path d="M 180.00 300.00 L 450.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="315.00" y="-260.00" class="edge-label" transform="scale(1, -1)">files</text>
  <path d="M 360.00 300.00 L 450.00 220.00" class="edge" marker-end="url(#arrowhead)"/>
  <text x="405.00" y="-260.00" class="edge-label" transform="scale(1, -1)">files</text>
  <rect x="220.00" y="690.00" width="100.00" height="50.00" class="node rect"/>
  <text x="270.00" y="-715.00" class="node-label" transform="scale(1, -1)">Firewall</text>
  <rect x="40.00" y="430.00" width="100.00" height="50.00" class="node rect"/>
  <text x="90.00" y="-455.00" class="node-label" transform="scale(1, -1)">Web Server 1</text>
  <rect x="400.00" y="430.00" width="100.00" height="50.00" class="node rect"/>
  <text x="450.00" y="-455.00" class="node-label" transform="scale(1, -1)">Web Server 3</text>
  <rect x="310.00" y="300.00" width="100.00" height="50.00" class="node rect"/>
  <text x="360.00" y="-325.00" class="node-label" transform="scale(1, -1)">App Server 2</text>
  <rect x="40.00" y="170.00" width="100.00" height="50.00" class="node rect"/>
  <text x="90.00" y="-195.00" class="node-label" transform="scale(1, -1)">DB Master</text>
  <ellipse cx="270.00" cy="195.00" rx="50.00" ry="25.00" class="node ellipse"/>
  <text x="270.00" y="-195.00" class="node-label" transform="scale(1, -1)">Redis Cache</text>
  <rect x="130.00" y="40.00" width="100.00" height="50.00" class="node rect"/>
  <text x="180.00" y="-65.00" class="node-label" transform="scale(1, -1)">DB Slave 1</text>
  <polygon points="270.00,560.00 320.00,585.00 270.00,610.00 220.00,585.00" class="node diamond"/>
  <text x="270.00" y="-585.00" class="node-label" transform="scale(1, -1)">Load Balancer</text>
  <rect x="220.00" y="430.00" width="100.00" height="50.00" class="node rect"/>
  <text x="270.00" y="-455.00" class="node-label" transform="scale(1, -1)">Web Server 2</text>
  <rect x="130.00" y="300.00" width="100.00" height="50.00" class="node rect"/>
  <text x="180.00" y="-325.00" class="node-label" transform="scale(1, -1)">App Server 1</text>
  <rect x="400.00" y="170.00" width="100.00" height="50.00" class="node rect"/>
  <text x="450.00" y="-195.00" class="node-label" transform="scale(1, -1)">File Storage</text>
  <rect x="310.00" y="40.00" width="100.00" height="50.00" class="node rect"/>
  <text x="360.00" y="-65.00" class="node-label" transform="scale(1, -1)">DB Slave 2</text>
  <ellipse cx="270.00" cy="845.00" rx="50.00" ry="25.00" class="node ellipse"/>
  <text x="270.00" y="-845.00" class="node-label" transform="scale(1, -1)">Internet</text>
</g>
</svg>
